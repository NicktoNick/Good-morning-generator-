<!DOCTYPE html>
<html>
<head>
  <title>Greeting Card Generator</title>
  <style>
    body { font-family: Arial; text-align: center; padding: 20px; background: #f5f5f5; }
    input, select, button { padding: 10px; margin: 10px; border-radius: 6px; border: 1px solid #ccc; }
    canvas { border: 1px solid #ccc; border-radius: 10px; margin-top: 20px; background: #fff; }
    #downloadBtn { padding: 12px 20px; background: #25D366; color: white; border: none; border-radius: 8px; cursor: pointer; margin-top: 20px; }
  </style>
</head>
<body>
  <h2>ğŸŒ Greeting Card Generator</h2>

  <!-- Name Input -->
  <input type="text" id="name" placeholder="Enter Name" />

  <!-- Greeting Style -->
  <select id="greetSelect">
    <option value="Good Morning">ğŸŒ Good Morning</option>
    <option value="Have a Nice Day">ğŸ˜Š Have a Nice Day</option>
    <option value="Rise & Shine">âœ¨ Rise & Shine</option>
    <option value="Stay Positive">ğŸŒ¸ Stay Positive</option>
    <option value="Keep Smiling">ğŸ˜ Keep Smiling</option>
  </select>

  <!-- Background Selector -->
  <select id="bgSelect">
    <option value="0">ğŸŒ… Sunrise</option>
    <option value="1">ğŸ– Beach Morning</option>
    <option value="2">â˜• Coffee</option>
    <option value="3">ğŸŒ¸ Flowers</option>
    <option value="4">ğŸŒ² Nature Path</option>
  </select>

  <button onclick="generateCard()">Generate Preview</button>
  <br><br>

  <!-- Greeting Canvas -->
  <canvas id="card" width="600" height="400"></canvas>
  <br>
  <button id="downloadBtn" onclick="downloadCard()">Download Image</button>

  <script>
    // Background templates
    const templateUrls = [
      "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=800&q=80", // sunrise
      "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=80", // beach
      "https://images.unsplash.com/photo-1504198453319-5ce911bafcde?auto=format&fit=crop&w=800&q=80", // coffee
      "https://images.unsplash.com/photo-1502082553048-f009c37129b9?auto=format&fit=crop&w=800&q=80", // flowers
      "https://images.unsplash.com/photo-1478144592103-25e218a04891?auto=format&fit=crop&w=800&q=80"  // nature
    ];

    let cleanUrl = "";

    function generateCard() {
      let name = document.getElementById("name").value || "Friend";
      let greeting = document.getElementById("greetSelect").value;
      let bgIndex = document.getElementById("bgSelect").value;
      let canvas = document.getElementById("card");
      let ctx = canvas.getContext("2d");

      // Load selected background
      let img = new Image();
      img.src = templateUrls[bgIndex];
      img.crossOrigin = "anonymous";
      img.onload = function() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.drawImage(img,0,0,canvas.width,canvas.height);

        // Greeting text
        ctx.font = "40px Arial";
        ctx.fillStyle = "white";
        ctx.textAlign = "center";
        ctx.fillText(`${greeting} ${name}!`, canvas.width/2, canvas.height/2);

        // Save final version
        cleanUrl = canvas.toDataURL("image/png");
      }
    }

    function downloadCard() {
      if (!cleanUrl) { alert("âš ï¸ Please generate a card first!"); return; }
      let a = document.createElement("a");
      a.href = cleanUrl;
      a.download = "greeting.png";
      a.click();
    }
  </script>
</body>
</html>
